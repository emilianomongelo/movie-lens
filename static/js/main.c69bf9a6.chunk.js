(this["webpackJsonpmovie-lens"]=this["webpackJsonpmovie-lens"]||[]).push([[0],{168:function(e,t,n){},169:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(36),c=n.n(r),s=n(80),l=n(121),o=n(222),d=n(130),u=n(236),j=n(33),A=n(65),m={loading:!1,title:null,titles:[],genres:[{id:"action",displayName:"Action"},{id:"adventure",displayName:"Adventure"},{id:"animation",displayName:"Animation"},{id:"biography",displayName:"Biography"},{id:"comedy",displayName:"Comedy"},{id:"crime",displayName:"Crime"},{id:"documentary",displayName:"Documentary"},{id:"drama",displayName:"Drama"},{id:"family",displayName:"Family"},{id:"fantasy",displayName:"Fantasy"},{id:"film_noir",displayName:"Film Noir"},{id:"game_show",displayName:"Game Show"},{id:"history",displayName:"History"},{id:"horror",displayName:"Horror"},{id:"music",displayName:"Music"},{id:"musical",displayName:"Musical"},{id:"mystery",displayName:"Mystery"},{id:"news",displayName:"News"},{id:"reality_tv",displayName:"Reality TV"},{id:"romance",displayName:"Romance"},{id:"sci_fi",displayName:"Sci-Fi"},{id:"sport",displayName:"Sport"},{id:"talk_show",displayName:"Talk Show"},{id:"thriller",displayName:"Thriller"},{id:"war",displayName:"War"},{id:"western",displayName:"Western"}]},p=Object(A.b)({name:"titles",initialState:m,reducers:{reset:function(e){e.title=null,e.titles=[]},setLoading:function(e,t){e.loading=t.payload},setTitles:function(e,t){e.titles=t.payload},setTitle:function(e,t){e.title=t.payload}}}),b=Object(A.b)({name:"user",initialState:{favourites:[],watchLater:[]},reducers:{setFavourites:function(e,t){var n=e.favourites.indexOf(t.payload);n>-1?(console.log("Eliminando de favs"),e.favourites.splice(n,1)):(console.log("Agregando a favs"),e.favourites.push(t.payload))},setWatchLater:function(e,t){var n=e.watchLater.indexOf(t.payload);n>-1?(console.log("Eliminando de wl"),e.watchLater.splice(n,1)):(console.log("Agregando de wl"),e.watchLater.push(t.payload))}}}),x=n(108),h=n.n(x),V=n(95),f={key:"root",storage:h.a,blacklist:["titles"]},O={key:"user",storage:h.a},g=Object(j.b)({titles:p.reducer,user:Object(V.a)(O,b.reducer)}),q=Object(V.a)(f,g),v=Object(A.a)({reducer:q,middleware:function(e){return e({serializableCheck:!1})}}),y=Object(V.b)(v),w=n(32),E=n(14),W=n(240),N=n(228),k=n(227),C=n(249),R=n(226),T=n(239),L=n(243),S=n(242),F=n(10),D=n(237),Y=n(129),I=n(233),B=n(123),X=n.n(B),G=n(90),H=n.n(G),J=n(91),P=n.n(J),M=n(1),U=function(){var e=Object(i.useState)(null),t=Object(F.a)(e,2),n=t[0],a=t[1],r=Boolean(n),c=function(){a(null)};return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(D.a,{id:"basic-button","aria-controls":r?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":r?"true":void 0,onClick:function(e){a(e.currentTarget)},children:Object(M.jsx)(X.a,{})}),Object(M.jsxs)(Y.a,{id:"basic-menu",anchorEl:n,open:r,onClose:c,MenuListProps:{"aria-labelledby":"basic-button"},children:[Object(M.jsx)(w.b,{to:"/favourites",children:Object(M.jsxs)(I.a,{onClick:c,children:[Object(M.jsx)(H.a,{}),Object(M.jsx)(S.a,{variant:"subtitle1",align:"center",color:"text.primary",ml:1,children:"Favourites"})]})}),Object(M.jsx)(w.b,{to:"/watch-later",children:Object(M.jsxs)(I.a,{onClick:c,children:[Object(M.jsx)(P.a,{}),Object(M.jsx)(S.a,{variant:"subtitle1",align:"center",color:"text.primary",ml:1,children:"Watch later"})]})})]})]})},z=function(){var e=Object(E.e)().pathname;return Object(M.jsx)("header",{children:Object(M.jsxs)(T.a,{container:!0,spacing:2,children:[Object(M.jsx)(T.a,{item:!0,sm:8,xs:10,pl:2,sx:{display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"center"},children:"/"!==e&&Object(M.jsx)(w.b,{to:"/",children:Object(M.jsxs)(S.a,{component:"h1",variant:"h2",sx:{textAlign:{xs:"center",sm:"left"}},color:"text.primary",gutterBottom:!0,children:["Movie"," ",Object(M.jsx)(L.a,{color:"primary.main",display:"inline",children:"Lens"})]})})}),Object(M.jsx)(T.a,{item:!0,sm:4,xs:2,sx:{display:"flex",flexDirection:"column",alignItems:"end",justifyContent:"center",pr:0},children:Object(M.jsx)(U,{})})]})})},Z=n(60),Q=function(e){var t=e.url,n=Object(i.useRef)(null),a=Object(i.useState)(0),r=Object(F.a)(a,2),c=r[0],s=r[1];return Object(i.useEffect)((function(){var e=Object(Z.a)(null,["current","offsetWidth"],n);s(e)}),[n]),console.log(c),Object(M.jsx)(W.a,{className:"embed-container",sx:{maxWidth:"100%",display:"flex",flexDirection:"column",alignItems:{xs:"center",sm:"center",md:"center",lg:"end"},justifyContent:"center",position:"relative",paddingBottom:{xs:"320px"},pr:0},ref:n,disableGutters:!0,children:Object(M.jsx)("iframe",{width:c,src:"".concat(t,"?autoplay=false&width=").concat(c),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Embedded youtube"})})},K=n(46),_=n(30),$=n(230),ee=n(232),te=function(){return Object(s.b)()},ne=s.c,ie=n(25),ae=n.n(ie),re=n(45),ce=n(229),se=function(){return ce.a.create({baseURL:"https://imdb-api.com/en/API/"})},le={searchTitle:function(e){return Object(re.a)(ae.a.mark((function t(){var n;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se().get("AdvancedSearch/k_1fthmbb9",{params:{title:e.q,release_date:e.year?"".concat(e.year,"-01-01,"):null,title_type:"feature,tv_movie",count:25,genres:e.genre}});case 2:return n=t.sent,t.abrupt("return",n.data.results.length?n.data.results.map((function(e){var t,n;return{id:e.id,title:e.title,description:e.description,year:e.year,directors:e.directors,stars:e.stars,image:null!==(t=e.image)&&void 0!==t?t:null,genres:e.genres,rating:e.imDbRating,contentRating:e.contentRating,plot:e.plot,runtime:e.runtimeMins,runtimeStr:e.runtimeStr,countries:e.countries,companies:e.companies,poster:Object(Z.a)(null,["posters","posters",0,"link"],e),backdrop:Object(Z.a)(null,["posters","backdrops",0,"link"],e),trailer:null===(n=e.trailer)||void 0===n?void 0:n.linkEmbed}})):null);case 4:case"end":return t.stop()}}),t)})))()},getTitle:function(e){return Object(re.a)(ae.a.mark((function t(){var n,i,a,r;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,se().get("Title/k_1fthmbb9/".concat(e,"/Posters,Trailer,Ratings"));case 2:return a=t.sent,r=a.data,t.abrupt("return",r?{id:r.id,title:r.title,year:r.year,directors:r.directors,stars:r.stars,image:null!==(n=r.image)&&void 0!==n?n:null,genres:r.genres,rating:r.imDbRating,contentRating:r.contentRating,plot:r.plot,runtime:r.runtimeMins,runtimeStr:r.runtimeStr,countries:r.countries,companies:r.companies,poster:Object(Z.a)(null,["posters","posters",0,"link"],r),backdrop:Object(Z.a)(null,["posters","backdrops",0,"link"],r),trailer:null===(i=r.trailer)||void 0===i?void 0:i.linkEmbed}:null);case 5:case"end":return t.stop()}}),t)})))()}},oe=p.actions,de=function(e){return function(){var t=Object(re.a)(ae.a.mark((function t(n,i){var a;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(oe.setLoading(!0)),t.next=3,le.searchTitle(e);case 3:a=t.sent,n(oe.setTitles(a)),n(oe.setLoading(!1));case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},ue=function(e){return function(){var t=Object(re.a)(ae.a.mark((function t(n,i){var a,r;return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(oe.setLoading(!0)),a=e.map((function(e){return le.getTitle(e)})),t.next=4,Promise.all(a);case 4:r=t.sent,n(oe.setTitles(r)),n(oe.setLoading(!1));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},je=function(e){for(var t,n,a,r=e.showSiteName,c=void 0!==r&&r,s=Object(w.c)(),l=Object(F.a)(s,1)[0],d=Object(E.f)(),u=Object(_.a)(),j=ne((function(e){return e.titles.genres})),A=te(),m=[],p=(new Date).getFullYear(),b=1888;b<=p;b++)m.push(b);var x=Object(i.useState)({q:null!==(t=l.get("q"))&&void 0!==t?t:"",genre:null!==(n=l.get("genre"))&&void 0!==n?n:"",year:null!==(a=l.get("year"))&&void 0!==a?a:""}),h=Object(F.a)(x,2),V=h[0],f=h[1];return Object(M.jsxs)(L.a,{sx:{backgroundColor:Object(o.a)(u.palette.grey[900],.7),width:"100%",display:"flex",flexDirection:"column",alignItems:"center",boxShadow:3,borderRadius:10,mt:2,transition:"all 1s",p:5},children:[c&&Object(M.jsxs)(S.a,{component:"h1",variant:"h2",align:"center",color:"text.primary",display:"inline",children:["Movie"," ",Object(M.jsx)(L.a,{color:"primary.main",display:"inline",children:"Lens"})]}),Object(M.jsx)(L.a,{sx:{mt:3,width:1},children:Object(M.jsxs)(T.a,{container:!0,spacing:2,children:[Object(M.jsx)(T.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)($.a,{id:"movie-title-ac",value:V.q,onChange:function(e){f(Object(K.a)(Object(K.a)({},V),{},{q:e.target.value}))},fullWidth:!0,placeholder:"Type a movie title",variant:"outlined"})}),Object(M.jsx)(T.a,{item:!0,xs:12,sm:2,children:Object(M.jsxs)(ee.a,{id:"movie-genre-select",value:V.genre,displayEmpty:!0,fullWidth:!0,onChange:function(e){f(Object(K.a)(Object(K.a)({},V),{},{genre:e.target.value}))},renderValue:function(e){return e||"Genre"},children:[Object(M.jsx)(I.a,{value:"",children:Object(M.jsx)("em",{children:"None"})}),j.map((function(e){return Object(M.jsx)(I.a,{value:e.id,children:e.displayName},e.id)}))]})}),Object(M.jsx)(T.a,{item:!0,xs:12,sm:2,children:Object(M.jsxs)(ee.a,{id:"movie-min-year-select",value:V.year,displayEmpty:!0,fullWidth:!0,onChange:function(e){var t=e.target.value;f(Object(K.a)(Object(K.a)({},V),{},{year:t?+t:""}))},renderValue:function(e){return e||"Year from"},children:[Object(M.jsx)(I.a,{value:"",children:Object(M.jsx)("em",{children:"None"})}),m.map((function(e){return Object(M.jsx)(I.a,{value:e,children:e},e)}))]})}),Object(M.jsx)(T.a,{item:!0,xs:12,sm:2,children:Object(M.jsx)(D.a,{type:"submit",variant:"contained",fullWidth:!0,sx:{py:2},onClick:function(){V.q&&(A(de(V)),d("/search?q=".concat(V.q,"&genre=").concat(V.genre,"&year=").concat(V.year)))},children:"Search"})})]})})]})},Ae=n(246),me=n(248),pe=n(247),be="data:image/png;base64,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",xe=function(e){var t,n=e.title;return Object(M.jsx)(T.a,{item:!0,sm:4,xs:6,md:3,children:Object(M.jsx)(w.b,{to:"/title/".concat(n.id),children:Object(M.jsxs)(Ae.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(M.jsx)(pe.a,{component:"img",image:null!==(t=n.image)&&void 0!==t?t:be,alt:"random",sx:{height:"250px"}}),Object(M.jsx)(me.a,{sx:{flexGrow:1},children:Object(M.jsxs)(S.a,{gutterBottom:!0,variant:"h6",children:[n.title," ",n.description]})})]})})},n.id)},he=function(e){var t=e.titles,n=e.sectionTitle;return Object(M.jsxs)(L.a,{sx:{py:1,mt:2,width:"100%",display:"flex",flexDirection:"column",alignItems:"center",boxShadow:3},children:[n&&Object(M.jsx)(W.a,{sx:{p:0,m:0},disableGutters:!0,children:Object(M.jsx)(S.a,{component:"h3",variant:"h3",align:"left",pl:0,color:"text.primary",gutterBottom:!0,children:n})}),Object(M.jsx)(T.a,{container:!0,spacing:2,children:t&&t.map((function(e){return Object(M.jsx)(xe,{title:e},e.id)}))})]})},Ve=function(e){var t,n=e.title;return n&&Object(M.jsx)(M.Fragment,{children:Object(M.jsxs)(T.a,{container:!0,spacing:{xs:0,sm:2},sx:{ml:0},direction:"row",justifyContent:"center",alignItems:"center",children:[Object(M.jsx)(T.a,{item:!0,xs:12,sm:6,children:Object(M.jsx)(pe.a,{component:"img",image:null!==(t=null===n||void 0===n?void 0:n.image)&&void 0!==t?t:be,alt:"random",sx:{height:"450px"}})}),Object(M.jsx)(T.a,{item:!0,xs:12,sm:6,children:Object(M.jsxs)(W.a,{maxWidth:"sm",sx:{opacity:.8,pt:{xs:2}},children:[(null===n||void 0===n?void 0:n.directors)&&Object(M.jsxs)(S.a,{component:"p",variant:"subtitle2",align:"left",color:"text.primary",paragraph:!0,children:["Direction: ",null===n||void 0===n?void 0:n.directors]}),(null===n||void 0===n?void 0:n.stars)&&Object(M.jsxs)(S.a,{component:"p",variant:"subtitle2",align:"left",color:"text.primary",paragraph:!0,children:["Cast: ",null===n||void 0===n?void 0:n.stars]}),(null===n||void 0===n?void 0:n.genres)&&Object(M.jsxs)(S.a,{component:"p",variant:"subtitle2",align:"left",color:"text.primary",paragraph:!0,children:["Genre: ",null===n||void 0===n?void 0:n.genres]}),(null===n||void 0===n?void 0:n.runtime)&&Object(M.jsxs)(S.a,{component:"p",variant:"subtitle2",align:"left",color:"text.primary",paragraph:!0,children:["Running time: ",null===n||void 0===n?void 0:n.runtime," mins"]}),(null===n||void 0===n?void 0:n.year)&&Object(M.jsxs)(S.a,{component:"p",variant:"subtitle2",align:"left",color:"text.primary",paragraph:!0,children:["Country: ",null===n||void 0===n?void 0:n.year]}),(null===n||void 0===n?void 0:n.rating)&&Object(M.jsxs)(S.a,{component:"p",variant:"subtitle2",align:"left",color:"text.primary",paragraph:!0,children:["Rating: ",null===n||void 0===n?void 0:n.rating]}),(null===n||void 0===n?void 0:n.countries)&&Object(M.jsxs)(S.a,{component:"p",variant:"subtitle2",align:"left",color:"text.primary",paragraph:!0,children:["Country: ",null===n||void 0===n?void 0:n.countries]}),(null===n||void 0===n?void 0:n.plot)&&Object(M.jsxs)(S.a,{component:"p",variant:"subtitle2",align:"left",color:"text.primary",paragraph:!0,children:["Plot: ",null===n||void 0===n?void 0:n.plot]})]})})]})})},fe=function(){return Object(M.jsx)("main",{className:"home-container",style:{position:"relative"},children:Object(M.jsxs)(W.a,{sx:{width:"100%",display:"flex",flexDirection:"column",flexWrap:"wrap",alignItems:"center",justifyContent:"center",position:"absolute",transform:{xs:"translateY(20%)",sm:"translateY(100%)"}},disableGutters:!0,children:[Object(M.jsx)(R.a,{}),Object(M.jsx)(je,{showSiteName:!0})]})})},Oe=function(){var e=ne((function(e){return e.user.favourites})),t=ne((function(e){return e.titles.titles})),n=ne((function(e){return e.titles.loading})),a=te();return Object(i.useEffect)((function(){a(ue(e))}),[a,e]),Object(M.jsx)("main",{className:"search-container",children:Object(M.jsxs)(W.a,{sx:{width:"100%",display:"flex",flexDirection:"column",flexFlow:"column",flexWrap:"wrap",alignItems:"center",justifyContent:"start"},children:[Object(M.jsx)(R.a,{}),!n&&Object(M.jsx)(he,{titles:t,sectionTitle:"Favourites"})]})})},ge=function(){var e=Object(w.c)(),t=Object(F.a)(e,1)[0],n=ne((function(e){return e.titles.titles})),a=ne((function(e){return e.titles.loading})),r=te();return Object(i.useEffect)((function(){var e,n;r(de({q:t.get("q"),genre:null!==(e=t.get("genre"))&&void 0!==e?e:"",year:null!==(n=t.get("year"))&&void 0!==n?n:""}))}),[r,t]),Object(M.jsx)("main",{className:"search-container",children:Object(M.jsxs)(W.a,{sx:{width:"100%",display:"flex",flexDirection:"column",flexFlow:"column",flexWrap:"wrap",alignItems:"center",justifyContent:"start"},disableGutters:!0,children:[Object(M.jsx)(R.a,{}),Object(M.jsx)(je,{}),!a&&Object(M.jsx)(he,{titles:n,sectionTitle:"Search results"})]})})},qe=n(234),ve=n(127),ye=n.n(ve),we=n(128),Ee=n.n(we),We=b.actions,Ne=function(){var e=Object(E.g)().id,t=Object(_.a)(),n=ne((function(e){return e.titles.title})),a=ne((function(e){return e.user.favourites})),r=ne((function(e){return e.user.watchLater})),c=te(),s=function(){var e;n&&c((e=n.id,function(){var t=Object(re.a)(ae.a.mark((function t(n,i){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(We.setFavourites(e));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()))},l=function(){var e;n&&c((e=n.id,function(){var t=Object(re.a)(ae.a.mark((function t(n,i){return ae.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n(We.setWatchLater(e));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()))};return Object(i.useEffect)((function(){var t;c((function(e,t){e(oe.reset())})),c((t=e,function(){var e=Object(re.a)(ae.a.mark((function e(n,i){var a,r,c;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(a=i().titles)||void 0===a||null===(r=a.title)||void 0===r?void 0:r.id)===t){e.next=7;break}return n(oe.setLoading(!0)),e.next=4,le.getTitle(t);case 4:c=e.sent,n(oe.setTitle(c)),n(oe.setLoading(!1));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))}),[c,e]),n&&Object(M.jsxs)("main",{children:[Object(M.jsx)(R.a,{}),Object(M.jsxs)(W.a,{sx:{backgroundColor:Object(o.a)(t.palette.grey[900],.7),width:"100%",py:1},children:[Object(M.jsx)(T.a,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",children:Object(M.jsx)(T.a,{item:!0,xs:12,md:12,sm:12,children:Object(M.jsxs)(S.a,{component:"h4",variant:"h4",align:"left",color:"text.primary",gutterBottom:!0,children:[null===n||void 0===n?void 0:n.title," ",(null===n||void 0===n?void 0:n.year)&&"(".concat(null===n||void 0===n?void 0:n.year,")")," ",(null===n||void 0===n?void 0:n.rating)&&Object(M.jsx)(qe.a,{name:"half-rating-read",defaultValue:(null===n||void 0===n?void 0:n.rating)/2,precision:.5,readOnly:!0}),a.includes(n.id)?Object(M.jsx)(H.a,{sx:{ml:2},onClick:s,color:"primary"}):Object(M.jsx)(ye.a,{sx:{ml:2},onClick:s,color:"primary"}),r.includes(n.id)?Object(M.jsx)(P.a,{sx:{ml:1},onClick:l,color:"primary"}):Object(M.jsx)(Ee.a,{sx:{ml:1},onClick:l,color:"primary"})]})})}),Object(M.jsxs)(T.a,{container:!0,spacing:2,direction:"row",justifyContent:"center",alignItems:"center",children:[Object(M.jsx)(T.a,{item:!0,xs:12,sm:12,md:12,lg:6,children:Object(M.jsx)(Ve,{title:n})}),(null===n||void 0===n?void 0:n.trailer)&&Object(M.jsx)(T.a,{item:!0,xs:12,sm:12,md:12,lg:6,sx:{alignSelf:"start"},children:Object(M.jsx)(Q,{url:null===n||void 0===n?void 0:n.trailer})})]})]})]})},ke=function(){var e=ne((function(e){return e.user.watchLater})),t=ne((function(e){return e.titles.titles})),n=ne((function(e){return e.titles.loading})),a=te();return Object(i.useEffect)((function(){a(ue(e))}),[a,e]),Object(M.jsx)("main",{className:"search-container",children:Object(M.jsxs)(W.a,{sx:{width:"100%",display:"flex",flexDirection:"column",flexFlow:"column",flexWrap:"wrap",alignItems:"center",justifyContent:"start"},children:[Object(M.jsx)(R.a,{}),!n&&Object(M.jsx)(he,{titles:t,sectionTitle:"Watch later"})]})})};var Ce=function(){var e=ne((function(e){return e.titles.loading}));return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(k.a,{direction:"down",in:e,mountOnEnter:!0,unmountOnExit:!0,children:Object(M.jsx)(N.a,{sx:{position:"fixed",top:0,left:0,width:"100%",color:"primary"},spacing:2,children:Object(M.jsx)(C.a,{color:"primary"})})}),Object(M.jsx)(w.a,{children:Object(M.jsxs)(W.a,{maxWidth:"lg",children:[Object(M.jsx)(z,{}),Object(M.jsxs)(E.c,{children:[Object(M.jsx)(E.a,{path:"/",element:Object(M.jsx)(fe,{})}),Object(M.jsx)(E.a,{path:"/search",element:Object(M.jsx)(ge,{})}),Object(M.jsx)(E.a,{path:"/title/:id",element:Object(M.jsx)(Ne,{})}),Object(M.jsx)(E.a,{path:"/favourites",element:Object(M.jsx)(Oe,{})}),Object(M.jsx)(E.a,{path:"/watch-later",element:Object(M.jsx)(ke,{})})]})]})})]})},Re=(n(168),Object(d.a)({palette:{mode:"dark",text:{primary:"#ffffff",secondary:Object(o.a)("#fff",.7)},primary:{main:"#ffb43a"}},typography:{fontFamily:'"Source Sans Pro"',fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500}}));c.a.render(Object(M.jsx)(a.a.StrictMode,{children:Object(M.jsx)(s.a,{store:v,children:Object(M.jsx)(l.a,{loading:null,persistor:y,children:Object(M.jsx)(u.a,{theme:Re,children:Object(M.jsx)(Ce,{})})})})}),document.getElementById("root"))}},[[169,1,2]]]);
//# sourceMappingURL=main.c69bf9a6.chunk.js.map